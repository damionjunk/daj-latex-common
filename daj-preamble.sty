%% Usage: \usepackage{org-preamble-xelatex} in your document
%% preamble. Font choice should be set in the document after the
%% package is declared. If \usepackage[minted]{org-preamble-xelatex}
%% is given, the minted package for code highlighting is turned
%% on. 
%%
%% Minted requires that pygments be installe (http://pygments.org/) 
%% and that \write18 support be enabled in your tex compiler.

%% via: Kieran Healy
%% http://kjhealy.github.com/latex-custom-kjh/
 
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{daj-preamble}[2011/02/21 v0.01 Bundling of Preamble items for Org to XeLaTeX export]


\RequirePackage{ifthen}
\newboolean{@minted} %

\setboolean{@minted}{false} % minted is off by default

\DeclareOption{minted}{
  \setboolean{@minted}{true}
}

\ProcessOptions

%%\RequirePackage{amsmath}
%%\RequirePackage{amsfonts}
%%\RequirePackage{amssymb}
\RequirePackage{fontspec}
\RequirePackage{xunicode}
\RequirePackage{url}
\RequirePackage{rotating}
\RequirePackage[american]{babel}
\RequirePackage[babel]{csquotes}
\RequirePackage[svgnames]{xcolor}
\RequirePackage{soul}
\RequirePackage{listings}
\RequirePackage[xetex, colorlinks=true, urlcolor=DarkSlateBlue,
citecolor=DarkSlateBlue, filecolor=DarkSlateBlue, plainpages=false,
pdfpagelabels, bookmarksnumbered]{hyperref}

%%\RequirePackage{etoolbox}

%% If [minted] option is chosen, activate minted
\ifthenelse{\boolean{@minted}}{
  \RequirePackage{minted}
  \usemintedstyle{tango} 
  \definecolor{bg}{rgb}{0.95,0.95,0.95}
  \setkeys{Gin}{width=1\@textwidth} 
}{}

\endinput
